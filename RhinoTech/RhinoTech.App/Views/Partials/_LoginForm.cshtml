@model RhinoTech.App.Models.HelperModels.MemberLoginModel

@if (User.Identity.IsAuthenticated)
{
    @Html.ActionLink("Log out", "MemberLogout", "MemberLoginSurface", new { @class="btn btn-default" })
}
else
{
    <button class="btn btn-default" data-toggle="modal" data-target="#login-form">Login</button>
}


<!-- Modal -->
<div class="modal fade" id="login-form" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                <h4 class="modal-title" id="myModalLabel">
                    Login
                </h4>
            </div>
            <div class="modal-body">
                
                @using (Ajax.BeginForm("MemberLogin", "MemberLoginSurface", null, new AjaxOptions()
                {
                    HttpMethod = "POST",
                    OnSuccess = "LoginStatus(data);"

                }, null))
                {
                        
                    @Html.EditorFor(x => Model)
                    <input type="submit" value="Login" />
                }
                
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>